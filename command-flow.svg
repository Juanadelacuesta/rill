<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: CommandFlow Pages: 1 -->
<svg width="1018pt" height="886pt"
 viewBox="0.00 0.00 1221.19 1062.81" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.833333 0.833333) rotate(0) translate(4 1058.81)">
<title>CommandFlow</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1058.81 1217.19,-1058.81 1217.19,4 -4,4"/>
<!-- RingHandler -->
<g id="node1" class="node"><title>RingHandler</title>
<text text-anchor="middle" x="87.5698" y="-13.8" font-family="Times,serif" font-size="14.00">RingHandler</text>
</g>
<!-- Start -->
<g id="node2" class="node"><title>Start</title>
<ellipse fill="none" stroke="black" cx="87.5698" cy="-1028" rx="26.6198" ry="26.6198"/>
<text text-anchor="middle" x="87.5698" y="-1023.8" font-family="Times,serif" font-size="14.00">Start</text>
</g>
<!-- HttpRequest -->
<g id="node3" class="node"><title>HttpRequest</title>
<polygon fill="none" stroke="black" points="167.357,-966 40.4337,-966 7.78313,-930 134.706,-930 167.357,-966"/>
<text text-anchor="middle" x="87.5698" y="-943.8" font-family="Times,serif" font-size="14.00">HttpRequest</text>
</g>
<!-- Start&#45;&gt;HttpRequest -->
<g id="edge1" class="edge"><title>Start&#45;&gt;HttpRequest</title>
<path fill="none" stroke="black" d="M87.5698,-1000.93C87.5698,-992.682 87.5698,-984.434 87.5698,-976.186"/>
<polygon fill="black" stroke="black" points="91.0699,-976.125 87.5698,-966.125 84.0699,-976.125 91.0699,-976.125"/>
</g>
<!-- TranslateFromHttp -->
<g id="node9" class="node"><title>TranslateFromHttp</title>
<ellipse fill="none" stroke="black" cx="289.725" cy="-948" rx="77.6716" ry="18"/>
<text text-anchor="middle" x="289.725" y="-943.8" font-family="Times,serif" font-size="14.00">TranslateFromHttp</text>
</g>
<!-- HttpRequest&#45;&gt;TranslateFromHttp -->
<g id="edge2" class="edge"><title>HttpRequest&#45;&gt;TranslateFromHttp</title>
<path fill="none" stroke="black" d="M151.077,-948C167.035,-948 184.484,-948 201.435,-948"/>
<polygon fill="black" stroke="black" points="201.908,-951.5 211.908,-948 201.908,-944.5 201.908,-951.5"/>
</g>
<!-- HttpResponse -->
<g id="node4" class="node"><title>HttpResponse</title>
<polygon fill="none" stroke="black" points="175.21,-174 35.7944,-174 -0.0698769,-138 139.345,-138 175.21,-174"/>
<text text-anchor="middle" x="87.5698" y="-151.8" font-family="Times,serif" font-size="14.00">HttpResponse</text>
</g>
<!-- End -->
<g id="node5" class="node"><title>End</title>
<ellipse fill="none" stroke="black" cx="87.5698" cy="-78" rx="24.2053" ry="24.2053"/>
<text text-anchor="middle" x="87.5698" y="-73.8" font-family="Times,serif" font-size="14.00">End</text>
</g>
<!-- HttpResponse&#45;&gt;End -->
<g id="edge24" class="edge"><title>HttpResponse&#45;&gt;End</title>
<path fill="none" stroke="black" d="M87.5698,-137.985C87.5698,-129.454 87.5698,-120.922 87.5698,-112.39"/>
<polygon fill="black" stroke="black" points="91.0699,-112.375 87.5698,-102.375 84.0699,-112.375 91.0699,-112.375"/>
</g>
<!-- RillWebHandler -->
<g id="node6" class="node"><title>RillWebHandler</title>
<text text-anchor="middle" x="289.725" y="-997.8" font-family="Times,serif" font-size="14.00">RillWebHandler</text>
</g>
<!-- PassThrough -->
<g id="node7" class="node"><title>PassThrough</title>
<ellipse fill="none" stroke="black" cx="289.725" cy="-876" rx="56.0786" ry="18"/>
<text text-anchor="middle" x="289.725" y="-871.8" font-family="Times,serif" font-size="14.00">PassThrough</text>
</g>
<!-- Command -->
<g id="node10" class="node"><title>Command</title>
<polygon fill="none" stroke="black" points="358.41,-822 249.148,-822 221.041,-786 330.303,-786 358.41,-822"/>
<text text-anchor="middle" x="289.725" y="-799.8" font-family="Times,serif" font-size="14.00">Command</text>
</g>
<!-- PassThrough&#45;&gt;Command -->
<g id="edge4" class="edge"><title>PassThrough&#45;&gt;Command</title>
<path fill="none" stroke="black" d="M289.725,-857.954C289.725,-849.407 289.725,-840.861 289.725,-832.314"/>
<polygon fill="black" stroke="black" points="293.225,-832.281 289.725,-822.281 286.225,-832.281 293.225,-832.281"/>
</g>
<!-- TranslateToHttp -->
<g id="node8" class="node"><title>TranslateToHttp</title>
<ellipse fill="none" stroke="black" cx="289.725" cy="-156" rx="67.7567" ry="18"/>
<text text-anchor="middle" x="289.725" y="-151.8" font-family="Times,serif" font-size="14.00">TranslateToHttp</text>
</g>
<!-- TranslateToHttp&#45;&gt;HttpResponse -->
<g id="edge23" class="edge"><title>TranslateToHttp&#45;&gt;HttpResponse</title>
<path fill="none" stroke="black" d="M222.083,-156C204.639,-156 185.665,-156 167.642,-156"/>
<polygon fill="black" stroke="black" points="167.452,-152.5 157.452,-156 167.452,-159.5 167.452,-152.5"/>
</g>
<!-- TranslateFromHttp&#45;&gt;PassThrough -->
<g id="edge3" class="edge"><title>TranslateFromHttp&#45;&gt;PassThrough</title>
<path fill="none" stroke="black" d="M289.725,-929.859C289.725,-921.268 289.725,-912.677 289.725,-904.085"/>
<polygon fill="black" stroke="black" points="293.225,-904 289.725,-894 286.225,-904 293.225,-904"/>
</g>
<!-- Prepare -->
<g id="node12" class="node"><title>Prepare</title>
<ellipse fill="none" stroke="black" cx="601.661" cy="-804" rx="37.2248" ry="18"/>
<text text-anchor="middle" x="601.661" y="-799.8" font-family="Times,serif" font-size="14.00">Prepare</text>
</g>
<!-- Command&#45;&gt;Prepare -->
<g id="edge5" class="edge"><title>Command&#45;&gt;Prepare</title>
<path fill="none" stroke="black" d="M344.358,-804C403.565,-804 497.915,-804 554.121,-804"/>
<polygon fill="black" stroke="black" points="554.155,-807.5 564.155,-804 554.155,-800.5 554.155,-807.5"/>
</g>
<!-- CommandHandler -->
<g id="node11" class="node"><title>CommandHandler</title>
<text text-anchor="middle" x="601.661" y="-853.8" font-family="Times,serif" font-size="14.00">CommandHandler</text>
</g>
<!-- AggregateIds -->
<g id="node13" class="node"><title>AggregateIds</title>
<polygon fill="none" stroke="black" points="686.489,-750 551.547,-750 516.833,-714 651.775,-714 686.489,-750"/>
<text text-anchor="middle" x="601.661" y="-727.8" font-family="Times,serif" font-size="14.00">AggregateIds</text>
</g>
<!-- Prepare&#45;&gt;AggregateIds -->
<g id="edge6" class="edge"><title>Prepare&#45;&gt;AggregateIds</title>
<path fill="none" stroke="black" d="M601.661,-785.954C601.661,-777.407 601.661,-768.861 601.661,-760.314"/>
<polygon fill="black" stroke="black" points="605.161,-760.281 601.661,-750.281 598.161,-760.281 605.161,-760.281"/>
</g>
<!-- RetrieveAggregates -->
<g id="node22" class="node"><title>RetrieveAggregates</title>
<ellipse fill="none" stroke="black" cx="917.982" cy="-732" rx="80.1645" ry="18"/>
<text text-anchor="middle" x="917.982" y="-727.8" font-family="Times,serif" font-size="14.00">RetrieveAggregates</text>
</g>
<!-- AggregateIds&#45;&gt;RetrieveAggregates -->
<g id="edge7" class="edge"><title>AggregateIds&#45;&gt;RetrieveAggregates</title>
<path fill="none" stroke="black" d="M669.32,-732C715.346,-732 777.081,-732 827.399,-732"/>
<polygon fill="black" stroke="black" points="827.628,-735.5 837.628,-732 827.627,-728.5 827.628,-735.5"/>
</g>
<!-- HandleCommand -->
<g id="node14" class="node"><title>HandleCommand</title>
<polygon fill="none" stroke="black" points="750.916,-593.562 601.661,-606 452.406,-593.562 452.546,-573.438 750.777,-573.438 750.916,-593.562"/>
<text text-anchor="middle" x="601.661" y="-583.8" font-family="Times,serif" font-size="14.00">rill.aggregate/handle&#45;command</text>
</g>
<!-- StatusAndEvents -->
<g id="node15" class="node"><title>StatusAndEvents</title>
<polygon fill="none" stroke="black" points="705.938,-534 540.057,-534 497.384,-498 663.266,-498 705.938,-534"/>
<text text-anchor="middle" x="601.661" y="-511.8" font-family="Times,serif" font-size="14.00">StatusAndEvents</text>
</g>
<!-- HandleCommand&#45;&gt;StatusAndEvents -->
<g id="edge13" class="edge"><title>HandleCommand&#45;&gt;StatusAndEvents</title>
<path fill="none" stroke="black" d="M601.661,-573.311C601.661,-563.655 601.661,-554 601.661,-544.344"/>
<polygon fill="black" stroke="black" points="605.161,-544.281 601.661,-534.281 598.161,-544.281 605.161,-544.281"/>
</g>
<!-- CheckCommandResult -->
<g id="node16" class="node"><title>CheckCommandResult</title>
<polygon fill="none" stroke="black" points="601.661,-462 471.532,-444 601.661,-426 731.791,-444 601.661,-462"/>
<text text-anchor="middle" x="601.661" y="-439.8" font-family="Times,serif" font-size="14.00">CheckCommandResult</text>
</g>
<!-- StatusAndEvents&#45;&gt;CheckCommandResult -->
<g id="edge14" class="edge"><title>StatusAndEvents&#45;&gt;CheckCommandResult</title>
<path fill="none" stroke="black" d="M601.661,-497.954C601.661,-489.407 601.661,-480.861 601.661,-472.314"/>
<polygon fill="black" stroke="black" points="605.161,-472.281 601.661,-462.281 598.161,-472.281 605.161,-472.281"/>
</g>
<!-- CommitCommandResult -->
<g id="node17" class="node"><title>CommitCommandResult</title>
<ellipse fill="none" stroke="black" cx="601.661" cy="-372" rx="98.5916" ry="18"/>
<text text-anchor="middle" x="601.661" y="-367.8" font-family="Times,serif" font-size="14.00">CommitCommandResult</text>
</g>
<!-- CheckCommandResult&#45;&gt;CommitCommandResult -->
<g id="edge15" class="edge"><title>CheckCommandResult&#45;&gt;CommitCommandResult</title>
<path fill="none" stroke="black" d="M601.661,-425.587C601.661,-417.941 601.661,-408.892 601.661,-400.427"/>
<polygon fill="black" stroke="black" points="605.161,-400.169 601.661,-390.169 598.161,-400.169 605.161,-400.169"/>
<text text-anchor="middle" x="591.661" y="-403.8" font-family="Times,serif" font-size="14.00">Result Ok</text>
</g>
<!-- RillResult -->
<g id="node20" class="node"><title>RillResult</title>
<polygon fill="none" stroke="black" points="668.984,-174 561.888,-174 534.338,-138 641.434,-138 668.984,-174"/>
<text text-anchor="middle" x="601.661" y="-151.8" font-family="Times,serif" font-size="14.00">RillResult</text>
</g>
<!-- CheckCommandResult&#45;&gt;RillResult -->
<g id="edge16" class="edge"><title>CheckCommandResult&#45;&gt;RillResult</title>
<path fill="none" stroke="black" d="M530.019,-435.9C502.894,-429.638 473.481,-418.563 452.284,-399 444.794,-392.088 408.131,-336.384 416.311,-293 424.446,-249.857 420.021,-230.776 452.284,-201 476.425,-178.72 511.221,-167.451 541.158,-161.76"/>
<polygon fill="black" stroke="black" points="541.846,-165.193 551.102,-160.036 540.651,-158.296 541.846,-165.193"/>
<text text-anchor="middle" x="409.797" y="-295.8" font-family="Times,serif" font-size="14.00">Rejected</text>
</g>
<!-- NewEvents -->
<g id="node18" class="node"><title>NewEvents</title>
<polygon fill="none" stroke="black" points="676.343,-318 557.541,-318 526.979,-282 645.781,-282 676.343,-318"/>
<text text-anchor="middle" x="601.661" y="-295.8" font-family="Times,serif" font-size="14.00">NewEvents</text>
</g>
<!-- CommitCommandResult&#45;&gt;NewEvents -->
<g id="edge17" class="edge"><title>CommitCommandResult&#45;&gt;NewEvents</title>
<path fill="none" stroke="black" d="M601.661,-353.954C601.661,-345.407 601.661,-336.861 601.661,-328.314"/>
<polygon fill="black" stroke="black" points="605.161,-328.281 601.661,-318.281 598.161,-328.281 605.161,-328.281"/>
</g>
<!-- CheckCommitResult -->
<g id="node19" class="node"><title>CheckCommitResult</title>
<polygon fill="none" stroke="black" points="601.661,-246 482.248,-228 601.661,-210 721.075,-228 601.661,-246"/>
<text text-anchor="middle" x="601.661" y="-223.8" font-family="Times,serif" font-size="14.00">CheckCommitResult</text>
</g>
<!-- NewEvents&#45;&gt;CheckCommitResult -->
<g id="edge19" class="edge"><title>NewEvents&#45;&gt;CheckCommitResult</title>
<path fill="none" stroke="black" d="M601.661,-281.954C601.661,-273.407 601.661,-264.861 601.661,-256.314"/>
<polygon fill="black" stroke="black" points="605.161,-256.281 601.661,-246.281 598.161,-256.281 605.161,-256.281"/>
</g>
<!-- CommitEvents -->
<g id="node28" class="node"><title>CommitEvents</title>
<ellipse fill="none" stroke="black" cx="1149.06" cy="-260" rx="63.3357" ry="18"/>
<text text-anchor="middle" x="1149.06" y="-255.8" font-family="Times,serif" font-size="14.00">CommitEvents</text>
</g>
<!-- NewEvents&#45;&gt;CommitEvents -->
<g id="edge18" class="edge"><title>NewEvents&#45;&gt;CommitEvents</title>
<path fill="none" stroke="black" d="M658.822,-297.046C746.183,-292.271 919.877,-282.059 1066.93,-269 1071.13,-268.626 1075.46,-268.218 1079.83,-267.787"/>
<polygon fill="black" stroke="black" points="1080.44,-271.243 1090.03,-266.749 1079.73,-264.279 1080.44,-271.243"/>
</g>
<!-- CheckCommitResult&#45;&gt;RillResult -->
<g id="edge21" class="edge"><title>CheckCommitResult&#45;&gt;RillResult</title>
<path fill="none" stroke="black" d="M601.661,-209.859C601.661,-201.268 601.661,-192.677 601.661,-184.085"/>
<polygon fill="black" stroke="black" points="605.161,-184 601.661,-174 598.161,-184 605.161,-184"/>
</g>
<!-- RillResult&#45;&gt;TranslateToHttp -->
<g id="edge22" class="edge"><title>RillResult&#45;&gt;TranslateToHttp</title>
<path fill="none" stroke="black" d="M547.777,-156C498.33,-156 423.902,-156 367.84,-156"/>
<polygon fill="black" stroke="black" points="367.595,-152.5 357.595,-156 367.595,-159.5 367.595,-152.5"/>
</g>
<!-- Repository -->
<g id="node21" class="node"><title>Repository</title>
<text text-anchor="middle" x="917.982" y="-781.8" font-family="Times,serif" font-size="14.00">Repository</text>
</g>
<!-- RetrieveEvents -->
<g id="node26" class="node"><title>RetrieveEvents</title>
<ellipse fill="none" stroke="black" cx="1149.06" cy="-732" rx="64.2614" ry="18"/>
<text text-anchor="middle" x="1149.06" y="-727.8" font-family="Times,serif" font-size="14.00">RetrieveEvents</text>
</g>
<!-- RetrieveAggregates&#45;&gt;RetrieveEvents -->
<g id="edge8" class="edge"><title>RetrieveAggregates&#45;&gt;RetrieveEvents</title>
<path fill="none" stroke="black" d="M998.458,-732C1023.11,-732 1050.15,-732 1074.39,-732"/>
<polygon fill="black" stroke="black" points="1074.59,-735.5 1084.59,-732 1074.59,-728.5 1074.59,-735.5"/>
</g>
<!-- HandleEvents -->
<g id="node23" class="node"><title>HandleEvents</title>
<polygon fill="none" stroke="black" points="1047.87,-665.562 917.982,-678 788.095,-665.562 788.216,-645.438 1047.75,-645.438 1047.87,-665.562"/>
<text text-anchor="middle" x="917.982" y="-655.8" font-family="Times,serif" font-size="14.00">rill.aggregate/handle&#45;event</text>
</g>
<!-- Aggregates -->
<g id="node24" class="node"><title>Aggregates</title>
<polygon fill="none" stroke="black" points="991.708,-606 874.426,-606 844.256,-570 961.538,-570 991.708,-606"/>
<text text-anchor="middle" x="917.982" y="-583.8" font-family="Times,serif" font-size="14.00">Aggregates</text>
</g>
<!-- HandleEvents&#45;&gt;Aggregates -->
<g id="edge11" class="edge"><title>HandleEvents&#45;&gt;Aggregates</title>
<path fill="none" stroke="black" d="M917.982,-645.311C917.982,-635.655 917.982,-626 917.982,-616.344"/>
<polygon fill="black" stroke="black" points="921.482,-616.281 917.982,-606.281 914.482,-616.281 921.482,-616.281"/>
</g>
<!-- Aggregates&#45;&gt;HandleCommand -->
<g id="edge12" class="edge"><title>Aggregates&#45;&gt;HandleCommand</title>
<path fill="none" stroke="black" d="M859.324,-588C831.462,-588 796.513,-588 761.456,-588"/>
<polygon fill="black" stroke="black" points="761.077,-584.5 751.077,-588 761.077,-591.5 761.077,-584.5"/>
</g>
<!-- EventStore -->
<g id="node25" class="node"><title>EventStore</title>
<text text-anchor="middle" x="1149.06" y="-781.8" font-family="Times,serif" font-size="14.00">EventStore</text>
</g>
<!-- Events -->
<g id="node27" class="node"><title>Events</title>
<polygon fill="none" stroke="black" points="1199.27,-678 1119.39,-678 1098.84,-642 1178.72,-642 1199.27,-678"/>
<text text-anchor="middle" x="1149.06" y="-655.8" font-family="Times,serif" font-size="14.00">Events</text>
</g>
<!-- RetrieveEvents&#45;&gt;Events -->
<g id="edge9" class="edge"><title>RetrieveEvents&#45;&gt;Events</title>
<path fill="none" stroke="black" d="M1149.06,-713.954C1149.06,-705.407 1149.06,-696.861 1149.06,-688.314"/>
<polygon fill="black" stroke="black" points="1152.56,-688.281 1149.06,-678.281 1145.56,-688.281 1152.56,-688.281"/>
</g>
<!-- Events&#45;&gt;HandleEvents -->
<g id="edge10" class="edge"><title>Events&#45;&gt;HandleEvents</title>
<path fill="none" stroke="black" d="M1108.86,-660C1094.18,-660 1076.53,-660 1057.99,-660"/>
<polygon fill="black" stroke="black" points="1057.91,-656.5 1047.91,-660 1057.91,-663.5 1057.91,-656.5"/>
</g>
<!-- CommitEvents&#45;&gt;CheckCommitResult -->
<g id="edge20" class="edge"><title>CommitEvents&#45;&gt;CheckCommitResult</title>
<path fill="none" stroke="black" d="M1086.76,-256.403C992.302,-250.861 810.394,-240.188 698.453,-233.62"/>
<polygon fill="black" stroke="black" points="698.367,-230.109 688.179,-233.018 697.957,-237.097 698.367,-230.109"/>
</g>
</g>
</svg>
