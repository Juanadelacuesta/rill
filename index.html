<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Rill Event Sourcing Documentation</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Joost Diepenmaat" />
</head>
<body>
<div id="content">
<h1 class="title">Rill Event Sourcing Documentation</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Generating events</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Generating events</h2>
<div class="outline-text-2" id="text-1">
<p>
Rill is designed to handle 2 concerns: storing and retrieving events
(implemented in the EventStore protocol) and generating new events based on
incoming commands and current system state (system state is represented as
aggregates generated from the existing events by the Repository protocol).
</p>

<p>
The below diagram outlines the mechanism when rill.web is used to translate
command results to ring HTTP responses.
</p>


<div class="figure">
<p><img src="command-flow.svg" alt="command-flow.svg" />
</p>
</div>

<p>
This diagram leaves out notification of observers.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Joost Diepenmaat</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.5.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
